import{j as e}from"./charts-aae23e34.js";import{r as l}from"./vendor-280e31ee.js";import{a as h}from"./api-f33f6490.js";import{D as A}from"./download-fe859b1d.js";import{c as p,A as I,R as x,b as L}from"./index-e694318b.js";import{C as q}from"./check-circle-c889db5c.js";import{D as M}from"./database-c04929e4.js";import{S as T}from"./server-8b893a43.js";import"./utils-9456a7ed.js";const U=p("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),g=p("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),F=p("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),D=p("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function K(){const[t,f]=l.useState({general:{theme:"light",language:"en",autoRefresh:!0,refreshInterval:5e3},notifications:{enabled:!0,containerEvents:!0,systemAlerts:!0,emailNotifications:!1},docker:{defaultRegistry:"docker.io",autoPrune:!1,pruneInterval:864e5,maxContainers:50},security:{requireAuth:!1,sessionTimeout:36e5,maxLoginAttempts:5},api:{rateLimit:!0,maxRequests:100,windowMs:9e5}}),[w,y]=l.useState(!0),[n,j]=l.useState(!1),[N,d]=l.useState(null),[v,b]=l.useState(null),[c,S]=l.useState("general"),k=async()=>{try{y(!0);const s=await fetch(h("/api/settings"));if(!s.ok)throw new Error("Failed to fetch settings");const r=await s.json();f(r.data)}catch(s){d(s instanceof Error?s.message:"Failed to fetch settings")}finally{y(!1)}},m=async s=>{try{if(j(!0),d(null),b(null),!(await fetch(h("/api/settings"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({section:s,settings:t[s]})})).ok)throw new Error("Failed to save settings");b(`${s.charAt(0).toUpperCase()+s.slice(1)} settings saved successfully`)}catch(r){d(r instanceof Error?r.message:"Failed to save settings")}finally{j(!1)}},C=async()=>{try{const s=await fetch(h("/api/settings/backup"));if(!s.ok)throw new Error("Failed to export settings");const r=await s.json(),o=new Blob([JSON.stringify(r.data,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),u=document.createElement("a");u.href=i,u.download=`settings-backup-${new Date().toISOString().split("T")[0]}.json`,u.click(),URL.revokeObjectURL(i)}catch(s){d(s instanceof Error?s.message:"Failed to export settings")}},E=async s=>{var o;const r=(o=s.target.files)==null?void 0:o[0];if(r)try{const i=await r.text(),u=JSON.parse(i);if(!(await fetch(h("/api/settings/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({backup:u})})).ok)throw new Error("Failed to import settings");b("Settings imported successfully"),await k()}catch(i){d(i instanceof Error?i.message:"Failed to import settings")}};l.useEffect(()=>{k()},[]);const a=(s,r,o)=>{f(i=>({...i,[s]:{...i[s],[r]:o}}))},R=[{id:"general",title:"General",icon:e.jsx(D,{className:"w-4 h-4"})},{id:"notifications",title:"Notifications",icon:e.jsx(U,{className:"w-4 h-4"})},{id:"docker",title:"Docker",icon:e.jsx(M,{className:"w-4 h-4"})},{id:"security",title:"Security",icon:e.jsx(L,{className:"w-4 h-4"})},{id:"api",title:"API",icon:e.jsx(T,{className:"w-4 h-4"})}];return w?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-light text-gray-900 mb-2",children:"Loading Settings..."}),e.jsx("p",{className:"text-gray-500",children:"Fetching configuration"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-light text-gray-900 tracking-tight",children:"Settings"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:C,className:"flex items-center px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors duration-200",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors duration-200 cursor-pointer",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Import",e.jsx("input",{type:"file",accept:".json",onChange:E,className:"hidden"})]})]})]}),N&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[e.jsx(I,{className:"w-5 h-5 text-red-600 mr-3"}),e.jsx("span",{className:"text-red-800",children:N})]}),v&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[e.jsx(q,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsx("span",{className:"text-green-800",children:v})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:e.jsx("nav",{className:"space-y-1",children:R.map(s=>e.jsxs("button",{onClick:()=>S(s.id),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors duration-200 ${c===s.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.icon,e.jsx("span",{className:"ml-3",children:s.title})]},s.id))})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"General Settings"}),e.jsxs("button",{onClick:()=>m("general"),disabled:n,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 disabled:opacity-50",children:[n?e.jsx(x,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(g,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),e.jsxs("select",{value:t.general.theme,onChange:s=>a("general","theme",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"auto",children:"Auto"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:t.general.language,onChange:s=>a("general","language",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.general.autoRefresh,onChange:s=>a("general","autoRefresh",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto Refresh"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Interval (ms)"}),e.jsx("input",{type:"number",value:t.general.refreshInterval,onChange:s=>a("general","refreshInterval",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Notifications"}),e.jsxs("button",{onClick:()=>m("notifications"),disabled:n,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 disabled:opacity-50",children:[n?e.jsx(x,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(g,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.notifications.enabled,onChange:s=>a("notifications","enabled",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable Notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.notifications.containerEvents,onChange:s=>a("notifications","containerEvents",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Container Events"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.notifications.systemAlerts,onChange:s=>a("notifications","systemAlerts",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"System Alerts"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.notifications.emailNotifications,onChange:s=>a("notifications","emailNotifications",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"})]})]})]}),c==="docker"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Docker Configuration"}),e.jsxs("button",{onClick:()=>m("docker"),disabled:n,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 disabled:opacity-50",children:[n?e.jsx(x,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(g,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Registry"}),e.jsx("input",{type:"text",value:t.docker.defaultRegistry,onChange:s=>a("docker","defaultRegistry",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.docker.autoPrune,onChange:s=>a("docker","autoPrune",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto Prune"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prune Interval (ms)"}),e.jsx("input",{type:"number",value:t.docker.pruneInterval,onChange:s=>a("docker","pruneInterval",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Containers"}),e.jsx("input",{type:"number",value:t.docker.maxContainers,onChange:s=>a("docker","maxContainers",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Security"}),e.jsxs("button",{onClick:()=>m("security"),disabled:n,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 disabled:opacity-50",children:[n?e.jsx(x,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(g,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.security.requireAuth,onChange:s=>a("security","requireAuth",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Require Authentication"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (ms)"}),e.jsx("input",{type:"number",value:t.security.sessionTimeout,onChange:s=>a("security","sessionTimeout",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Login Attempts"}),e.jsx("input",{type:"number",value:t.security.maxLoginAttempts,onChange:s=>a("security","maxLoginAttempts",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c==="api"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"API Configuration"}),e.jsxs("button",{onClick:()=>m("api"),disabled:n,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 disabled:opacity-50",children:[n?e.jsx(x,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(g,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.api.rateLimit,onChange:s=>a("api","rateLimit",s.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable Rate Limiting"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Requests"}),e.jsx("input",{type:"number",value:t.api.maxRequests,onChange:s=>a("api","maxRequests",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Window (ms)"}),e.jsx("input",{type:"number",value:t.api.windowMs,onChange:s=>a("api","windowMs",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})})]})]})})}export{K as default};
//# sourceMappingURL=Settings-5a2379c5.js.map
