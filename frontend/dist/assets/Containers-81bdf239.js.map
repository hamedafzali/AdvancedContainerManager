{"version":3,"file":"Containers-81bdf239.js","sources":["../../src/pages/Containers.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport {\n  Play,\n  Square,\n  RefreshCw,\n  Trash2,\n  Terminal,\n  Search,\n  Plus,\n  AlertCircle,\n  Clock,\n  CheckCircle,\n  XCircle,\n  Eye,\n  Activity,\n  HardDrive,\n  Settings,\n  Download,\n  Copy,\n  X,\n} from \"lucide-react\";\nimport { apiUrl } from \"@/utils/api\";\n\ninterface Container {\n  id: string;\n  name: string;\n  image: string;\n  status: \"running\" | \"stopped\" | \"paused\" | \"restarting\";\n  ports: string[];\n  cpu: number;\n  memory: number;\n  uptime: string;\n  created: string;\n}\n\nexport default function Containers() {\n  const [containers, setContainers] = useState<Container[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterStatus, setFilterStatus] = useState<string>(\"all\");\n  const [showLogsModal, setShowLogsModal] = useState(false);\n  const [selectedContainer, setSelectedContainer] = useState<Container | null>(\n    null,\n  );\n  const [logs, setLogs] = useState<string[]>([]);\n  const [logsLoading, setLogsLoading] = useState(false);\n\n  // Fetch container logs\n  const fetchLogs = async (containerId: string) => {\n    try {\n      setLogsLoading(true);\n      const response = await fetch(\n        apiUrl(`/api/containers/${containerId}/logs`),\n      );\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch logs\");\n      }\n      const result = await response.json();\n      setLogs(result.data || []);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to fetch logs\");\n    } finally {\n      setLogsLoading(false);\n    }\n  };\n\n  // Handle view logs\n  const handleViewLogs = (container: Container) => {\n    setSelectedContainer(container);\n    setShowLogsModal(true);\n    fetchLogs(container.id);\n  };\n\n  // Copy logs to clipboard\n  const copyLogs = () => {\n    const logsText = logs.join(\"\\n\");\n    navigator.clipboard.writeText(logsText);\n  };\n\n  // Download logs\n  const downloadLogs = () => {\n    const logsText = logs.join(\"\\n\");\n    const blob = new Blob([logsText], { type: \"text/plain\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `${selectedContainer?.name}-logs-${new Date().toISOString()}.txt`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  const fetchContainers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(apiUrl(\"/api/containers\"));\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch containers\");\n      }\n      const result = await response.json();\n      const data = result.data;\n\n      // Transform backend data to frontend format\n      const transformedContainers = data.map(\n        (container: any): Container => ({\n          id: container.id,\n          name: container.name,\n          image: container.image,\n          status: container.status.toLowerCase(),\n          ports: Object.keys(container.ports || {}).map((key) => key),\n          cpu: 0, // Will be updated by stats\n          memory: 0, // Will be updated by stats\n          uptime: container.startedAt\n            ? new Date(container.startedAt).toLocaleString()\n            : \"Never started\",\n          created: new Date(container.created * 1000).toLocaleString(),\n        }),\n      );\n\n      setContainers(transformedContainers);\n\n      // Fetch stats for running containers\n      const runningContainers = transformedContainers.filter(\n        (c: Container) => c.status === \"running\",\n      );\n      for (const container of runningContainers) {\n        try {\n          const statsResponse = await fetch(\n            apiUrl(`/api/containers/${container.id}/stats`),\n          );\n          if (statsResponse.ok) {\n            const stats = await statsResponse.json();\n            // Update container with real stats\n            setContainers((prev) =>\n              prev.map((c: Container) =>\n                c.id === container.id\n                  ? {\n                      ...c,\n                      cpu: stats.cpuPercent || 0,\n                      memory:\n                        Math.round((stats.memoryUsage / 1024 / 1024) * 100) /\n                        100,\n                    }\n                  : c,\n              ),\n            );\n          }\n        } catch (statsError) {\n          console.error(\n            `Failed to fetch stats for container ${container.id}:`,\n            statsError,\n          );\n        }\n      }\n    } catch (err) {\n      setError(\n        err instanceof Error ? err.message : \"Failed to fetch containers\",\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchContainers();\n\n    // Set up real-time updates\n    const interval = setInterval(fetchContainers, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const getStatusIcon = (status: Container[\"status\"]) => {\n    switch (status) {\n      case \"running\":\n        return <CheckCircle className=\"w-4 h-4 text-green-600\" />;\n      case \"stopped\":\n        return <XCircle className=\"w-4 h-4 text-red-600\" />;\n      case \"paused\":\n        return <AlertCircle className=\"w-4 h-4 text-yellow-600\" />;\n      case \"restarting\":\n        return <RefreshCw className=\"w-4 h-4 text-blue-600 animate-spin\" />;\n      default:\n        return null;\n    }\n  };\n\n  const getStatusText = (status: Container[\"status\"]) => {\n    switch (status) {\n      case \"running\":\n        return \"text-green-600 bg-green-50\";\n      case \"stopped\":\n        return \"text-red-600 bg-red-50\";\n      case \"paused\":\n        return \"text-yellow-600 bg-yellow-50\";\n      case \"restarting\":\n        return \"text-blue-600 bg-blue-50\";\n      default:\n        return \"text-gray-600 bg-gray-50\";\n    }\n  };\n\n  const handleContainerAction = async (\n    containerId: string,\n    action: \"start\" | \"stop\" | \"restart\" | \"delete\",\n  ) => {\n    try {\n      const container = containers.find((c: Container) => c.id === containerId);\n      if (!container) return;\n\n      switch (action) {\n        case \"start\":\n          const startResponse = await fetch(\n            apiUrl(`/api/containers/${containerId}/start`),\n            {\n              method: \"POST\",\n            },\n          );\n          if (!startResponse.ok) {\n            throw new Error(\"Failed to start container\");\n          }\n          break;\n        case \"stop\":\n          const stopResponse = await fetch(\n            apiUrl(`/api/containers/${containerId}/stop`),\n            {\n              method: \"POST\",\n            },\n          );\n          if (!stopResponse.ok) {\n            throw new Error(\"Failed to stop container\");\n          }\n          break;\n        case \"restart\":\n          const restartResponse = await fetch(\n            apiUrl(`/api/containers/${containerId}/restart`),\n            {\n              method: \"POST\",\n            },\n          );\n          if (!restartResponse.ok) {\n            throw new Error(\"Failed to restart container\");\n          }\n          break;\n        case \"delete\":\n          if (!confirm(\"Are you sure you want to delete this container?\")) {\n            return;\n          }\n          const deleteResponse = await fetch(\n            apiUrl(`/api/containers/${containerId}`),\n            {\n            method: \"DELETE\",\n            },\n          );\n          if (!deleteResponse.ok) {\n            throw new Error(\"Failed to delete container\");\n          }\n          break;\n        default:\n          throw new Error(\"Invalid action\");\n      }\n\n      // Refresh containers after action\n      await fetchContainers();\n    } catch (err) {\n      setError(\n        err instanceof Error\n          ? err.message\n          : `Failed to ${containerId ? \"perform action\" : \"perform action\"}`,\n      );\n      setTimeout(() => setError(null), 3000);\n    }\n  };\n\n  const filteredContainers = containers.filter((container: Container) => {\n    const matchesSearch =\n      container.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      container.image.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesFilter =\n      filterStatus === \"all\" || container.status === filterStatus;\n    return matchesSearch && matchesFilter;\n  });\n\n  const runningCount = containers.filter(\n    (c: Container) => c.status === \"running\",\n  ).length;\n  const stoppedCount = containers.filter(\n    (c: Container) => c.status === \"stopped\",\n  ).length;\n  const pausedCount = containers.filter(\n    (c: Container) => c.status === \"paused\",\n  ).length;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <RefreshCw className=\"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4\" />\n          <h2 className=\"text-xl font-light text-gray-900 mb-2\">\n            Loading Containers...\n          </h2>\n          <p className=\"text-gray-500\">\n            Fetching container information from Docker\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <AlertCircle className=\"w-16 h-16 text-red-400 mx-auto mb-4\" />\n          <h2 className=\"text-xl font-light text-gray-900 mb-2\">\n            Error Loading Containers\n          </h2>\n          <p className=\"text-gray-500 mb-4\">{error}</p>\n          <button\n            onClick={fetchContainers}\n            className=\"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors duration-200\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-6 py-8 space-y-8\">\n        {/* Header */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200\">\n          <div className=\"p-8\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-2\">\n                <h1 className=\"text-3xl font-light text-gray-900 tracking-tight\">\n                  Containers\n                </h1>\n                <p className=\"text-gray-500 text-sm tracking-wide\">\n                  Manage and monitor Docker containers\n                </p>\n              </div>\n              <button className=\"flex items-center px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white font-light rounded-lg transition-colors duration-200\">\n                <Plus className=\"w-4 h-4 mr-2\" />\n                New Container\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-light text-gray-900\">\n                  {runningCount}\n                </div>\n                <div className=\"text-sm text-gray-500\">Running</div>\n              </div>\n              <div className=\"p-3 bg-green-50 rounded-lg\">\n                <CheckCircle className=\"w-5 h-5 text-green-600\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-light text-gray-900\">\n                  {stoppedCount}\n                </div>\n                <div className=\"text-sm text-gray-500\">Stopped</div>\n              </div>\n              <div className=\"p-3 bg-red-50 rounded-lg\">\n                <XCircle className=\"w-5 h-5 text-red-600\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-light text-gray-900\">\n                  {pausedCount}\n                </div>\n                <div className=\"text-sm text-gray-500\">Paused</div>\n              </div>\n              <div className=\"p-3 bg-yellow-50 rounded-lg\">\n                <AlertCircle className=\"w-5 h-5 text-yellow-600\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Search and Filter */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search containers...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-transparent\"\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => setFilterStatus(e.target.value)}\n              className=\"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-transparent\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"running\">Running</option>\n              <option value=\"stopped\">Stopped</option>\n              <option value=\"paused\">Paused</option>\n              <option value=\"restarting\">Restarting</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Containers List */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 border-b border-gray-200\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Name\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Image\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Ports\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    CPU\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Memory\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Uptime\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {filteredContainers.map((container) => (\n                  <tr\n                    key={container.id}\n                    className=\"hover:bg-gray-50 transition-colors duration-150\"\n                  >\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {container.name}\n                      </div>\n                      <div className=\"text-xs text-gray-500\">\n                        ID: {container.id}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900 font-mono\">\n                        {container.image}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div\n                        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusText(container.status)}`}\n                      >\n                        {getStatusIcon(container.status)}\n                        <span className=\"ml-1\">{container.status}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900 font-mono\">\n                        {container.ports.join(\", \")}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <Activity className=\"w-4 h-4 text-gray-400 mr-2\" />\n                        <span className=\"text-sm text-gray-900\">\n                          {container.cpu.toFixed(1)}%\n                        </span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <HardDrive className=\"w-4 h-4 text-gray-400 mr-2\" />\n                        <span className=\"text-sm text-gray-900\">\n                          {container.memory}MB\n                        </span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <Clock className=\"w-4 h-4 text-gray-400 mr-2\" />\n                        <span className=\"text-sm text-gray-900\">\n                          {container.uptime}\n                        </span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => handleViewLogs(container)}\n                          className=\"p-1.5 text-gray-600 hover:bg-gray-50 rounded transition-colors duration-200\"\n                        >\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => {\n                            if (container.status === \"running\") {\n                              handleContainerAction(container.id, \"stop\");\n                            } else {\n                              handleContainerAction(container.id, \"start\");\n                            }\n                          }}\n                          className={`p-1.5 rounded transition-colors duration-200 ${\n                            container.status === \"running\"\n                              ? \"text-red-600 hover:bg-red-50\"\n                              : \"text-green-600 hover:bg-green-50\"\n                          }`}\n                        >\n                          {container.status === \"running\" ? (\n                            <Square className=\"w-4 h-4\" />\n                          ) : (\n                            <Play className=\"w-4 h-4\" />\n                          )}\n                        </button>\n                        <button\n                          onClick={() =>\n                            handleContainerAction(container.id, \"restart\")\n                          }\n                          className=\"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors duration-200\"\n                        >\n                          <RefreshCw className=\"w-4 h-4\" />\n                        </button>\n                        <button className=\"p-1.5 text-gray-600 hover:bg-gray-50 rounded transition-colors duration-200\">\n                          <Terminal className=\"w-4 h-4\" />\n                        </button>\n                        <button className=\"p-1.5 text-gray-600 hover:bg-gray-50 rounded transition-colors duration-200\">\n                          <Settings className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() =>\n                            handleContainerAction(container.id, \"delete\")\n                          }\n                          className=\"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors duration-200\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      {/* Logs Modal */}\n      {showLogsModal && selectedContainer && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-xl shadow-2xl border border-gray-200 max-w-4xl w-full max-h-[80vh] m-4\">\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <div className=\"flex items-center space-x-3\">\n                <Terminal className=\"w-5 h-5 text-gray-600\" />\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">\n                    {selectedContainer.name} - Logs\n                  </h3>\n                  <p className=\"text-sm text-gray-500\">\n                    {selectedContainer.image}\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={copyLogs}\n                  className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200\"\n                  title=\"Copy logs\"\n                >\n                  <Copy className=\"w-4 h-4\" />\n                </button>\n                <button\n                  onClick={downloadLogs}\n                  className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200\"\n                  title=\"Download logs\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                </button>\n                <button\n                  onClick={() => setShowLogsModal(false)}\n                  className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n\n            <div\n              className=\"p-6 overflow-auto\"\n              style={{ maxHeight: \"calc(80vh - 120px)\" }}\n            >\n              {logsLoading ? (\n                <div className=\"flex items-center justify-center py-12\">\n                  <div className=\"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mr-3\"></div>\n                  <span className=\"text-gray-600\">Loading logs...</span>\n                </div>\n              ) : logs.length > 0 ? (\n                <div className=\"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-300\">\n                  {logs.map((log, index) => (\n                    <div key={index} className=\"mb-1\">\n                      <span className=\"text-gray-500 mr-2\">\n                        {new Date().toLocaleTimeString()}\n                      </span>\n                      <span className=\"whitespace-pre-wrap\">{log}</span>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"flex items-center justify-center py-12 text-gray-500\">\n                  <Terminal className=\"w-8 h-8 mr-3\" />\n                  <span>No logs available</span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["Containers","containers","setContainers","useState","loading","setLoading","error","setError","searchTerm","setSearchTerm","filterStatus","setFilterStatus","showLogsModal","setShowLogsModal","selectedContainer","setSelectedContainer","logs","setLogs","logsLoading","setLogsLoading","fetchLogs","containerId","response","apiUrl","result","err","handleViewLogs","container","copyLogs","logsText","downloadLogs","blob","url","a","fetchContainers","transformedContainers","key","runningContainers","c","statsResponse","stats","prev","statsError","useEffect","interval","getStatusIcon","status","jsx","CheckCircle","XCircle","AlertCircle","RefreshCw","getStatusText","handleContainerAction","action","filteredContainers","matchesSearch","matchesFilter","runningCount","stoppedCount","pausedCount","jsxs","Plus","Search","e","Activity","HardDrive","Clock","Eye","Square","Play","Terminal","Settings","Trash2","Copy","Download","X","log","index"],"mappings":"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"}