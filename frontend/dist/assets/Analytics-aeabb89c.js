import{j as e}from"./charts-aae23e34.js";import{r as t}from"./vendor-280e31ee.js";import{a as i}from"./api-f33f6490.js";import{R as p,B as q,A as n,H as G}from"./index-e694318b.js";import{A as N}from"./alert-circle-c0f60a4e.js";import{D as J}from"./download-fe859b1d.js";import{C as O}from"./check-circle-c889db5c.js";import{T as d}from"./trending-up-994d0d23.js";import{D as Q}from"./dollar-sign-3df34bb3.js";import{C as X}from"./cpu-60b2dde0.js";import{S as Y}from"./server-8b893a43.js";import{W as Z}from"./wifi-80d77a9d.js";import{A as v}from"./activity-ce878ae7.js";import"./utils-9456a7ed.js";function ge(){var u,y;const[_,f]=t.useState([]),[x,b]=t.useState([]),[o,w]=t.useState([]),[m,R]=t.useState([]),[A,C]=t.useState([]),[r,k]=t.useState(null),[D,h]=t.useState(!0),[g,S]=t.useState(null);t.useState("cpu");const[L,F]=t.useState("7d"),[l,I]=t.useState(!0),c=async()=>{try{h(!0);const[s,a,E,H,P,M]=await Promise.all([fetch(i("/api/analytics/predictive-metrics")),fetch(i("/api/analytics/anomalies?limit=50")),fetch(i("/api/analytics/trends")),fetch(i("/api/analytics/capacity-planning")),fetch(i("/api/analytics/cost-forecast?period=30")),fetch(i("/api/analytics/insights"))]),[U,B,W,z,K,V]=await Promise.all([s.json(),a.json(),E.json(),H.json(),P.json(),M.json()]);f(U.data||[]),b(B.data||[]),w(W.data||[]),R(z.data||[]),C(K.data||[]),k(V.data||null)}catch(s){S(s instanceof Error?s.message:"Failed to fetch analytics data")}finally{h(!1)}};t.useEffect(()=>{if(c(),l){const s=setInterval(c,3e4);return()=>clearInterval(s)}},[l]);const j=s=>{switch(s){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}},T=s=>{switch(s){case"increasing":return e.jsx(d,{className:"w-4 h-4 text-green-600"});case"decreasing":return e.jsx(d,{className:"w-4 h-4 text-red-600 rotate-180"});case"stable":return e.jsx(v,{className:"w-4 h-4 text-blue-600"});case"volatile":return e.jsx(n,{className:"w-4 h-4 text-orange-600"});default:return e.jsx(v,{className:"w-4 h-4 text-gray-600"})}},$=s=>{switch(s){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}};return D?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(p,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-light text-gray-900 mb-2",children:"Loading Analytics..."}),e.jsx("p",{className:"text-gray-500",children:"Fetching predictive insights and analytics"})]})}):g?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-light text-gray-900 mb-2",children:"Error Loading Analytics"}),e.jsx("p",{className:"text-gray-500 mb-4",children:g}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors duration-200",children:"Retry"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-light text-gray-900 tracking-tight",children:"Advanced Analytics"}),e.jsx("p",{className:"text-gray-500 text-sm tracking-wide",children:"AI-powered insights and predictive analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:L,onChange:s=>F(s.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-transparent",children:[e.jsx("option",{value:"1d",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]}),e.jsx("button",{onClick:()=>I(!l),className:`px-4 py-2 rounded-lg transition-colors duration-200 ${l?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:e.jsx(p,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),e.jsx("button",{className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors duration-200",children:e.jsx(J,{className:"w-4 h-4"})})]})]})})}),r&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl shadow-sm border border-gray-200 p-8 text-white",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(q,{className:"w-8 h-8"}),e.jsx("h2",{className:"text-2xl font-light",children:"AI Insights"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Summary"}),e.jsx("p",{className:"text-blue-100 text-sm",children:r.summary})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Key Findings"}),e.jsx("ul",{className:"text-blue-100 text-sm space-y-1",children:(u=r.keyFindings)==null?void 0:u.map((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(O,{className:"w-3 h-3 mr-2 mt-1 flex-shrink-0"}),s]},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Risk Level"}),e.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r.riskLevel==="high"?"bg-red-500":r.riskLevel==="medium"?"bg-yellow-500":"bg-green-500"}`,children:(y=r.riskLevel)==null?void 0:y.toUpperCase()}),e.jsxs("p",{className:"text-blue-100 text-sm mt-2",children:["Confidence: ",(r.confidence*100).toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-light text-gray-900",children:x.filter(s=>s.severity==="critical").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Critical Anomalies"})]}),e.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:e.jsx(n,{className:"w-5 h-5 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-light text-gray-900",children:o.filter(s=>s.trend==="increasing").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Increasing Trends"})]}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsx(d,{className:"w-5 h-5 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-light text-gray-900",children:m.filter(s=>s.riskLevel==="high").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"High Risk Resources"})]}),e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg",children:e.jsx(N,{className:"w-5 h-5 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-light text-gray-900",children:["$",A.reduce((s,a)=>s+a.forecast,0).toFixed(0)]}),e.jsx("div",{className:"text-sm text-gray-500",children:"30-Day Forecast"})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(Q,{className:"w-5 h-5 text-blue-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-light text-gray-900",children:"Recent Anomalies"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm",children:"View All"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:x.slice(0,5).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${j(s.severity)}`,children:e.jsx(n,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.metric}),e.jsx("div",{className:"text-sm text-gray-500",children:s.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(s.severity)}`,children:s.severity}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(s.timestamp).toLocaleString()})]})]},a))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-light text-gray-900",children:"Trend Analysis"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:o.slice(0,4).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[T(s.trend),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.metric}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.changeRate>0?"+":"",s.changeRate.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Next Hour: ",s.prediction.nextHour.toFixed(1)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.confidence.toFixed(1),"% confidence"]})]})]},a))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-light text-gray-900",children:"Capacity Planning"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:m.slice(0,4).map((s,a)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.resource==="cpu"&&e.jsx(X,{className:"w-4 h-4 text-gray-600"}),s.resource==="memory"&&e.jsx(G,{className:"w-4 h-4 text-gray-600"}),s.resource==="storage"&&e.jsx(Y,{className:"w-4 h-4 text-gray-600"}),s.resource==="network"&&e.jsx(Z,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:s.resource})]}),e.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(s.riskLevel)}`,children:s.riskLevel})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Current:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.current.toFixed(1)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"6 Months:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.projected.sixMonths.toFixed(1)})]})]})]},a))})})]})]})]})})}export{ge as default};
//# sourceMappingURL=Analytics-aeabb89c.js.map
