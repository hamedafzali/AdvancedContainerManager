{"version":3,"file":"Security-fa24d851.js","sources":["../../src/pages/Security.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport {\n  Shield,\n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  Eye,\n  Search,\n  RefreshCw,\n  Plus,\n  Settings,\n  AlertCircle,\n  Activity,\n  Clock,\n  Zap,\n} from \"lucide-react\";\nimport { apiUrl } from \"@/utils/api\";\n\ninterface SecurityScan {\n  id: string;\n  containerId: string;\n  imageName: string;\n  timestamp: string;\n  status: \"pending\" | \"running\" | \"completed\" | \"failed\";\n  vulnerabilities: Vulnerability[];\n  compliance: ComplianceCheck[];\n  riskScore: number;\n  summary: {\n    critical: number;\n    high: number;\n    medium: number;\n    low: number;\n    info: number;\n  };\n}\n\ninterface Vulnerability {\n  id: string;\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\" | \"info\";\n  title: string;\n  description: string;\n  package: string;\n  version: string;\n  fixedVersion?: string;\n  cveId?: string;\n  cvssScore?: number;\n  references: string[];\n  category: string;\n}\n\ninterface ComplianceCheck {\n  name: string;\n  status: \"pass\" | \"fail\" | \"warning\";\n  description: string;\n  category: string;\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\";\n  recommendation?: string;\n}\n\ninterface SecurityPolicy {\n  id: string;\n  name: string;\n  description: string;\n  enabled: boolean;\n  rules: SecurityRule[];\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface SecurityRule {\n  type: \"vulnerability\" | \"compliance\" | \"image\" | \"runtime\";\n  condition: string;\n  action: \"block\" | \"warn\" | \"log\";\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\";\n  enabled: boolean;\n}\n\ninterface SecurityAlert {\n  id: string;\n  type: \"vulnerability\" | \"compliance\" | \"policy\" | \"anomaly\";\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\";\n  title: string;\n  description: string;\n  containerId?: string;\n  imageName?: string;\n  timestamp: string;\n  status: \"open\" | \"acknowledged\" | \"resolved\" | \"false_positive\";\n  assignedTo?: string;\n  metadata: Record<string, any>;\n}\n\nexport default function Security() {\n  const [scans, setScans] = useState<SecurityScan[]>([]);\n  const [alerts, setAlerts] = useState<SecurityAlert[]>([]);\n  const [policies, setPolicies] = useState<SecurityPolicy[]>([]);\n  const [metrics, setMetrics] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedScan, setSelectedScan] = useState<SecurityScan | null>(null);\n  const [showScanModal, setShowScanModal] = useState(false);\n  const [showPolicyModal, setShowPolicyModal] = useState(false);\n  const [filterSeverity, setFilterSeverity] = useState<string>(\"all\");\n  const [filterStatus, setFilterStatus] = useState<string>(\"all\");\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\n\n  const fetchSecurityData = async () => {\n    try {\n      setLoading(true);\n\n      const [scansResponse, alertsResponse, policiesResponse, metricsResponse] =\n        await Promise.all([\n          fetch(apiUrl(\"/api/security/scans\")),\n          fetch(apiUrl(\"/api/security/alerts?limit=100\")),\n          fetch(apiUrl(\"/api/security/policies\")),\n          fetch(apiUrl(\"/api/security/metrics\")),\n        ]);\n\n      const [scansData, alertsData, policiesData, metricsData] =\n        await Promise.all([\n          scansResponse.json(),\n          alertsResponse.json(),\n          policiesResponse.json(),\n          metricsResponse.json(),\n        ]);\n\n      setScans(scansData.data || []);\n      setAlerts(alertsData.data || []);\n      setPolicies(policiesData.data || []);\n      setMetrics(metricsData.data || null);\n    } catch (err) {\n      setError(\n        err instanceof Error ? err.message : \"Failed to fetch security data\",\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSecurityData();\n    const interval = setInterval(fetchSecurityData, 30000); // Refresh every 30 seconds\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleStartScan = async (containerId: string, imageName: string) => {\n    try {\n      const response = await fetch(apiUrl(\"/api/security/scans\"), {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ containerId, imageName }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to start security scan\");\n      }\n\n      await fetchSecurityData();\n    } catch (err) {\n      setError(\n        err instanceof Error ? err.message : \"Failed to start security scan\",\n      );\n    }\n  };\n\n  const handleUpdateAlert = async (\n    alertId: string,\n    status: SecurityAlert[\"status\"],\n  ) => {\n    try {\n      const response = await fetch(apiUrl(`/api/security/alerts/${alertId}`), {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to update alert\");\n      }\n\n      await fetchSecurityData();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to update alert\");\n    }\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case \"critical\":\n        return \"text-red-600 bg-red-50\";\n      case \"high\":\n        return \"text-orange-600 bg-orange-50\";\n      case \"medium\":\n        return \"text-yellow-600 bg-yellow-50\";\n      case \"low\":\n        return \"text-blue-600 bg-blue-50\";\n      case \"info\":\n        return \"text-gray-600 bg-gray-50\";\n      default:\n        return \"text-gray-600 bg-gray-50\";\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"completed\":\n      case \"pass\":\n        return <CheckCircle className=\"w-4 h-4 text-green-600\" />;\n      case \"failed\":\n      case \"fail\":\n        return <XCircle className=\"w-4 h-4 text-red-600\" />;\n      case \"running\":\n        return <RefreshCw className=\"w-4 h-4 text-blue-600 animate-spin\" />;\n      case \"pending\":\n        return <Clock className=\"w-4 h-4 text-yellow-600\" />;\n      case \"warning\":\n        return <AlertTriangle className=\"w-4 h-4 text-orange-600\" />;\n      default:\n        return <Activity className=\"w-4 h-4 text-gray-600\" />;\n    }\n  };\n\n  const getRiskLevel = (score: number) => {\n    if (score >= 80)\n      return { level: \"Critical\", color: \"text-red-600 bg-red-50\" };\n    if (score >= 60)\n      return { level: \"High\", color: \"text-orange-600 bg-orange-50\" };\n    if (score >= 40)\n      return { level: \"Medium\", color: \"text-yellow-600 bg-yellow-50\" };\n    if (score >= 20) return { level: \"Low\", color: \"text-blue-600 bg-blue-50\" };\n    return { level: \"Minimal\", color: \"text-green-600 bg-green-50\" };\n  };\n\n  const filteredAlerts = alerts.filter((alert) => {\n    const matchesSeverity =\n      filterSeverity === \"all\" || alert.severity === filterSeverity;\n    const matchesStatus =\n      filterStatus === \"all\" || alert.status === filterStatus;\n    const matchesSearch =\n      alert.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      alert.description.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesSeverity && matchesStatus && matchesSearch;\n  });\n\n  const criticalVulnerabilities = scans.reduce(\n    (sum, scan) => sum + scan.summary.critical,\n    0,\n  );\n  const highVulnerabilities = scans.reduce(\n    (sum, scan) => sum + scan.summary.high,\n    0,\n  );\n  const openAlerts = alerts.filter((alert) => alert.status === \"open\").length;\n  const criticalAlerts = alerts.filter(\n    (alert) => alert.severity === \"critical\" && alert.status === \"open\",\n  ).length;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <RefreshCw className=\"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4\" />\n          <h2 className=\"text-xl font-light text-gray-900 mb-2\">\n            Loading Security Data...\n          </h2>\n          <p className=\"text-gray-500\">\n            Fetching security scans and vulnerability data\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <AlertTriangle className=\"w-16 h-16 text-red-400 mx-auto mb-4\" />\n          <h2 className=\"text-xl font-light text-gray-900 mb-2\">\n            Error Loading Security Data\n          </h2>\n          <p className=\"text-gray-500 mb-4\">{error}</p>\n          <button\n            onClick={fetchSecurityData}\n            className=\"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors duration-200\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-6 py-8 space-y-8\">\n        {/* Header */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200\">\n          <div className=\"p-8\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-2\">\n                <h1 className=\"text-3xl font-light text-gray-900 tracking-tight\">\n                  Security Center\n                </h1>\n                <p className=\"text-gray-500 text-sm tracking-wide\">\n                  Container vulnerability scanning and compliance monitoring\n                </p>\n              </div>\n              <div className=\"flex items-center space-x-4\">\n                <button\n                  onClick={() => setShowPolicyModal(true)}\n                  className=\"flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors duration-200\"\n                >\n                  <Settings className=\"w-4 h-4 mr-2\" />\n                  Policies\n                </button>\n                <button\n                  onClick={() => setShowScanModal(true)}\n                  className=\"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200\"\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  New Scan\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Security Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-light text-gray-900\">\n                  {criticalVulnerabilities}\n                </div>\n                <div className=\"text-sm text-gray-500\">\n                  Critical Vulnerabilities\n                </div>\n              </div>\n              <div className=\"p-3 bg-red-50 rounded-lg\">\n                <AlertTriangle className=\"w-5 h-5 text-red-600\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-light text-gray-900\">\n                  {highVulnerabilities}\n                </div>\n                <div className=\"text-sm text-gray-500\">\n                  High Vulnerabilities\n                </div>\n              </div>\n              <div className=\"p-3 bg-orange-50 rounded-lg\">\n                <AlertCircle className=\"w-5 h-5 text-orange-600\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-light text-gray-900\">\n                  {openAlerts}\n                </div>\n                <div className=\"text-sm text-gray-500\">Open Alerts</div>\n              </div>\n              <div className=\"p-3 bg-yellow-50 rounded-lg\">\n                <Shield className=\"w-5 h-5 text-yellow-600\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-light text-gray-900\">\n                  {criticalAlerts}\n                </div>\n                <div className=\"text-sm text-gray-500\">Critical Alerts</div>\n              </div>\n              <div className=\"p-3 bg-red-50 rounded-lg\">\n                <Zap className=\"w-5 h-5 text-red-600\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Security Metrics */}\n        {metrics && (\n          <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl shadow-sm border border-gray-200 p-8 text-white\">\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <Shield className=\"w-8 h-8\" />\n              <h2 className=\"text-2xl font-light\">Security Posture</h2>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <div>\n                <h3 className=\"text-lg font-medium mb-2\">Compliance Rate</h3>\n                <div className=\"text-3xl font-light\">\n                  {metrics.complianceRate?.toFixed(1)}%\n                </div>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-medium mb-2\">Average Risk Score</h3>\n                <div className=\"text-3xl font-light\">\n                  {metrics.averageRiskScore?.toFixed(1)}\n                </div>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-medium mb-2\">Total Scans</h3>\n                <div className=\"text-3xl font-light\">{metrics.totalScans}</div>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-medium mb-2\">Active Scans</h3>\n                <div className=\"text-3xl font-light\">{metrics.activeScans}</div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Recent Security Scans */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-xl font-light text-gray-900\">\n                Recent Security Scans\n              </h2>\n              <button className=\"text-blue-600 hover:text-blue-700 text-sm\">\n                View All\n              </button>\n            </div>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {scans.slice(0, 5).map((scan) => {\n                const risk = getRiskLevel(scan.riskScore);\n                return (\n                  <div\n                    key={scan.id}\n                    className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\"\n                  >\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"p-2 bg-gray-100 rounded-lg\">\n                        <Shield className=\"w-4 h-4 text-gray-600\" />\n                      </div>\n                      <div>\n                        <div className=\"font-medium text-gray-900\">\n                          {scan.imageName}\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          Container: {scan.containerId} •{\" \"}\n                          {new Date(scan.timestamp).toLocaleString()}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-4\">\n                      <div\n                        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getSeverityColor(scan.status)}`}\n                      >\n                        {getStatusIcon(scan.status)}\n                        <span className=\"ml-1\">{scan.status}</span>\n                      </div>\n                      <div\n                        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${risk.color}`}\n                      >\n                        {risk.level} ({scan.riskScore})\n                      </div>\n                      <button\n                        onClick={() => setSelectedScan(scan)}\n                        className=\"p-1.5 text-gray-600 hover:bg-gray-200 rounded\"\n                      >\n                        <Eye className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        {/* Security Alerts */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-xl font-light text-gray-900\">\n                Security Alerts\n              </h2>\n            </div>\n          </div>\n\n          {/* Filters */}\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex-1 relative\">\n                <Search className=\"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search alerts...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-transparent\"\n                />\n              </div>\n              <select\n                value={filterSeverity}\n                onChange={(e) => setFilterSeverity(e.target.value)}\n                className=\"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-transparent\"\n              >\n                <option value=\"all\">All Severities</option>\n                <option value=\"critical\">Critical</option>\n                <option value=\"high\">High</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"low\">Low</option>\n              </select>\n              <select\n                value={filterStatus}\n                onChange={(e) => setFilterStatus(e.target.value)}\n                className=\"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-transparent\"\n              >\n                <option value=\"all\">All Status</option>\n                <option value=\"open\">Open</option>\n                <option value=\"acknowledged\">Acknowledged</option>\n                <option value=\"resolved\">Resolved</option>\n                <option value=\"false_positive\">False Positive</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {filteredAlerts.slice(0, 10).map((alert) => (\n                <div\n                  key={alert.id}\n                  className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\"\n                >\n                  <div className=\"flex items-center space-x-4\">\n                    <div\n                      className={`p-2 rounded-lg ${getSeverityColor(alert.severity)}`}\n                    >\n                      <AlertTriangle className=\"w-4 h-4\" />\n                    </div>\n                    <div>\n                      <div className=\"font-medium text-gray-900\">\n                        {alert.title}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {alert.description}\n                      </div>\n                      <div className=\"text-xs text-gray-400 mt-1\">\n                        {alert.containerId &&\n                          `Container: ${alert.containerId} • `}\n                        {new Date(alert.timestamp).toLocaleString()}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div\n                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getSeverityColor(alert.severity)}`}\n                    >\n                      {alert.severity}\n                    </div>\n                    <select\n                      value={alert.status}\n                      onChange={(e) =>\n                        handleUpdateAlert(\n                          alert.id,\n                          e.target.value as SecurityAlert[\"status\"],\n                        )\n                      }\n                      className=\"px-2 py-1 text-xs border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-gray-900\"\n                    >\n                      <option value=\"open\">Open</option>\n                      <option value=\"acknowledged\">Acknowledged</option>\n                      <option value=\"resolved\">Resolved</option>\n                      <option value=\"false_positive\">False Positive</option>\n                    </select>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Security","scans","setScans","useState","alerts","setAlerts","policies","setPolicies","metrics","setMetrics","loading","setLoading","error","setError","selectedScan","setSelectedScan","showScanModal","setShowScanModal","showPolicyModal","setShowPolicyModal","filterSeverity","setFilterSeverity","filterStatus","setFilterStatus","searchTerm","setSearchTerm","fetchSecurityData","scansResponse","alertsResponse","policiesResponse","metricsResponse","apiUrl","scansData","alertsData","policiesData","metricsData","err","useEffect","interval","handleUpdateAlert","alertId","status","getSeverityColor","severity","getStatusIcon","jsx","CheckCircle","XCircle","RefreshCw","Clock","AlertTriangle","Activity","getRiskLevel","score","filteredAlerts","alert","matchesSeverity","matchesStatus","matchesSearch","criticalVulnerabilities","sum","scan","highVulnerabilities","openAlerts","criticalAlerts","jsxs","Settings","Plus","AlertCircle","Shield","Zap","_a","risk","Eye","Search","e"],"mappings":"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"}