import{j as e}from"./charts-aae23e34.js";import{r as l}from"./vendor-280e31ee.js";import{a as c}from"./api-f33f6490.js";import{c as S,B as C,R as z,d as O,H as $,b as A}from"./index-e694318b.js";import{P}from"./play-14f3b85d.js";import{C as b}from"./cpu-60b2dde0.js";import{D as u}from"./dollar-sign-3df34bb3.js";import{C as R}from"./check-circle-c889db5c.js";import{C as k}from"./clock-0bcd3380.js";import{A as F}from"./activity-ce878ae7.js";import{Z as I}from"./zap-9121f5c9.js";import"./utils-9456a7ed.js";const E=S("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),K=()=>{const[a,N]=l.useState(null),[d,f]=l.useState([]),[m,x]=l.useState(!1),[r,v]=l.useState(!1),[i,w]=l.useState(null);l.useEffect(()=>{if(p(),r){const s=setInterval(()=>{n()},3e5);return()=>clearInterval(s)}},[r]);const n=async()=>{x(!0);try{const t=await(await fetch(c("/api/ai/optimization/analyze"),{method:"POST"})).json();t.success&&(N(t.data),p())}catch(s){console.error("Error performing optimization:",s)}finally{x(!1)}},p=async()=>{try{const t=await(await fetch(c("/api/ai/optimization/history"))).json();t.success&&f(t.data)}catch(s){console.error("Error fetching optimization history:",s)}},h=async s=>{try{(await(await fetch(c(`/api/ai/optimization/apply/${s}`),{method:"POST"})).json()).success&&n()}catch(t){console.error("Error applying recommendation:",t)}},o=s=>{switch(s){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-green-600 bg-green-100 border-green-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},g=s=>{switch(s){case"resource":return e.jsx(b,{className:"w-5 h-5"});case"performance":return e.jsx(I,{className:"w-5 h-5"});case"security":return e.jsx(A,{className:"w-5 h-5"});case"cost":return e.jsx(u,{className:"w-5 h-5"});default:return e.jsx(F,{className:"w-5 h-5"})}},y=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":s>=40?"text-orange-600":"text-red-600";return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Optimization"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>v(!r),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border ${r?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"}`,children:[r?e.jsx(E,{className:"w-4 h-4"}):e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:r?"Auto-Optimize ON":"Auto-Optimize OFF"})]}),e.jsxs("button",{onClick:n,disabled:m,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(z,{className:`w-4 h-4 ${m?"animate-spin":""}`}),e.jsx("span",{children:"Analyze Now"})]})]})]}),a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Optimization Score"}),e.jsx(O,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("div",{className:`text-2xl font-bold ${y(a.overallScore)}`,children:[a.overallScore,"%"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"CPU Savings"}),e.jsx(b,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[a.potentialSavings.cpu.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Memory Savings"}),e.jsx($,{className:"w-5 h-5 text-purple-600"})]}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[a.potentialSavings.memory.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Cost Savings"}),e.jsx(u,{className:"w-5 h-5 text-yellow-600"})]}),e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["$",a.potentialSavings.cost.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Optimization Recommendations"})}),e.jsx("div",{className:"p-6",children:a!=null&&a.recommendations.length?e.jsx("div",{className:"space-y-4",children:a.recommendations.map((s,t)=>e.jsx("div",{className:`p-4 rounded-lg border ${o(s.priority)} cursor-pointer transition-all hover:shadow-md`,onClick:()=>w(s),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"mt-1",children:g(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),e.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[e.jsx("strong",{children:"Recommendation:"})," ",s.recommendation]}),e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[e.jsx("strong",{children:"Expected Impact:"})," ",s.expectedImpact]}),s.estimatedSavings&&e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[s.estimatedSavings.cpu&&e.jsxs("span",{className:"text-green-600",children:["CPU: ",s.estimatedSavings.cpu.toFixed(1),"%"]}),s.estimatedSavings.memory&&e.jsxs("span",{className:"text-purple-600",children:["Memory: ",s.estimatedSavings.memory.toFixed(1),"%"]}),s.estimatedSavings.cost&&e.jsxs("span",{className:"text-yellow-600",children:["Cost: $",s.estimatedSavings.cost.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(s.priority)}`,children:s.priority.toUpperCase()}),e.jsx("button",{onClick:j=>{j.stopPropagation(),h(`rec-${t}`)},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Apply"})]})]})},t))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(R,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No optimization recommendations at this time."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Your system is running optimally!"})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Optimization History"})}),e.jsx("div",{className:"p-6",children:d.length?e.jsx("div",{className:"space-y-3",children:d.slice(0,10).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(k,{className:"w-4 h-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(s.timestamp).toLocaleDateString()}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.recommendations.length," recommendations"]})]})]}),e.jsxs("div",{className:`text-sm font-medium ${y(s.overallScore)}`,children:[s.overallScore,"%"]})]},t))}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No history available"})})]}),i&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selected Recommendation"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[g(i.type),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(i.priority)}`,children:i.priority.toUpperCase()})]}),e.jsx("h3",{className:"font-semibold text-gray-900",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600",children:i.description}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>h(`selected-${Date.now()}`),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Apply This Recommendation"})})]})})]})]})]})]})};export{K as default};
//# sourceMappingURL=AIOptimization-97d9a4fc.js.map
